[{"D:\\vooc-code\\reactjs\\rabbitmq-mqtt-01\\react-rabbitmq-mqtt\\src\\index.js":"1","D:\\vooc-code\\reactjs\\rabbitmq-mqtt-01\\react-rabbitmq-mqtt\\src\\App.js":"2","D:\\vooc-code\\reactjs\\rabbitmq-mqtt-01\\react-rabbitmq-mqtt\\src\\reportWebVitals.js":"3","D:\\vooc-code\\reactjs\\rabbitmq-mqtt-01\\react-rabbitmq-mqtt\\src\\components\\Camera01.js":"4","D:\\vooc-code\\reactjs\\rabbitmq-mqtt-01\\react-rabbitmq-mqtt\\src\\components\\Camera02.js":"5"},{"size":500,"mtime":499162500000,"results":"6","hashOfConfig":"7"},{"size":5220,"mtime":1613979477682,"results":"8","hashOfConfig":"7"},{"size":362,"mtime":499162500000,"results":"9","hashOfConfig":"7"},{"size":2317,"mtime":1611408089658,"results":"10","hashOfConfig":"7"},{"size":2316,"mtime":1611222975580,"results":"11","hashOfConfig":"7"},{"filePath":"12","messages":"13","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},"1o4zcui",{"filePath":"15","messages":"16","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},{"filePath":"19","messages":"20","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"21","messages":"22","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"23","usedDeprecatedRules":"14"},"D:\\vooc-code\\reactjs\\rabbitmq-mqtt-01\\react-rabbitmq-mqtt\\src\\index.js",[],["24","25"],"D:\\vooc-code\\reactjs\\rabbitmq-mqtt-01\\react-rabbitmq-mqtt\\src\\App.js",["26","27","28","29","30"],"D:\\vooc-code\\reactjs\\rabbitmq-mqtt-01\\react-rabbitmq-mqtt\\src\\reportWebVitals.js",[],"D:\\vooc-code\\reactjs\\rabbitmq-mqtt-01\\react-rabbitmq-mqtt\\src\\components\\Camera01.js",["31","32","33"],"D:\\vooc-code\\reactjs\\rabbitmq-mqtt-01\\react-rabbitmq-mqtt\\src\\components\\Camera02.js",["34","35","36"],"import React, {useEffect, useState} from 'react';\r\nimport Stomp from 'stompjs';\r\n\r\nconst Camera02 = () => {\r\n    const [imageStream, setImageStream] = useState(null);\r\n\r\n    useEffect(() => {\r\n        // connectRabbit();\r\n        let stompClient;\r\n        var ws = new WebSocket('ws://42.112.31.48:15674/ws');\r\n        const headers = {\r\n            'login': 'bzcomdev',\r\n            'passcode': 'bzcomdev1004',\r\n            'durable': 'false',\r\n            'auto-delete': 'true',\r\n        };\r\n\r\n        stompClient = Stomp.over(ws);\r\n        stompClient.connect(headers, function(frame) {\r\n            // const subscription = stompClient.subscribe('/queue/tasks', function(message) {\r\n            const subscription = stompClient.subscribe('/queue/videoanalysis.video.queue1', function(message) {\r\n                let quote = JSON.parse(message.body);\r\n                const stringImage64 = quote.mess;\r\n                const urlImage = getURLImage(stringImage64);\r\n                setImageStream(urlImage);\r\n                // subscription.unsubscribe();\r\n            });\r\n        });\r\n    }, []);\r\n\r\n    const b64toBlob = (b64Data, contentType = '', sliceSize = 512) => {\r\n        const byteCharacters = atob(b64Data);\r\n        const byteArrays = [];\r\n\r\n        for (let offset = 0; offset < byteCharacters.length; offset += sliceSize) {\r\n            const slice = byteCharacters.slice(offset, offset + sliceSize);\r\n\r\n            const byteNumbers = new Array(slice.length);\r\n            for (let i = 0; i < slice.length; i++) {\r\n                byteNumbers[i] = slice.charCodeAt(i);\r\n            }\r\n\r\n            const byteArray = new Uint8Array(byteNumbers);\r\n            byteArrays.push(byteArray);\r\n        }\r\n\r\n        const blob = new Blob(byteArrays, {type: contentType});\r\n        return blob;\r\n    };\r\n\r\n    const getURLImage = (stringImage64) => {\r\n        const contentType = 'image/jpeg';\r\n        const blob = b64toBlob(stringImage64, contentType);\r\n        // return URL.createObjectURL(blob);\r\n        return window.webkitURL.createObjectURL(blob);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {\r\n                imageStream !== null ? (<img src={imageStream} style={{height: \"300px\", width: \"auto\"}} />) : null\r\n            }\r\n        </div>\r\n    );\r\n\r\n};\r\n\r\nexport default Camera02;\r\n\r\n\r\n\r\n",{"ruleId":"37","replacedBy":"38"},{"ruleId":"39","replacedBy":"40"},{"ruleId":"41","severity":1,"message":"42","line":1,"column":27,"nodeType":"43","messageId":"44","endLine":1,"endColumn":35},{"ruleId":"41","severity":1,"message":"45","line":4,"column":9,"nodeType":"43","messageId":"44","endLine":4,"endColumn":16},{"ruleId":"41","severity":1,"message":"46","line":5,"column":8,"nodeType":"43","messageId":"44","endLine":5,"endColumn":16},{"ruleId":"41","severity":1,"message":"47","line":6,"column":8,"nodeType":"43","messageId":"44","endLine":6,"endColumn":16},{"ruleId":"41","severity":1,"message":"48","line":27,"column":15,"nodeType":"43","messageId":"44","endLine":27,"endColumn":27},{"ruleId":"41","severity":1,"message":"48","line":21,"column":19,"nodeType":"43","messageId":"44","endLine":21,"endColumn":31},{"ruleId":"49","severity":1,"message":"50","line":29,"column":8,"nodeType":"51","endLine":29,"endColumn":10,"suggestions":"52"},{"ruleId":"53","severity":1,"message":"54","line":61,"column":41,"nodeType":"55","endLine":61,"endColumn":107},{"ruleId":"41","severity":1,"message":"48","line":21,"column":19,"nodeType":"43","messageId":"44","endLine":21,"endColumn":31},{"ruleId":"49","severity":1,"message":"50","line":29,"column":8,"nodeType":"51","endLine":29,"endColumn":10,"suggestions":"56"},{"ruleId":"53","severity":1,"message":"54","line":61,"column":41,"nodeType":"55","endLine":61,"endColumn":107},"no-native-reassign",["57"],"no-negated-in-lhs",["58"],"no-unused-vars","'useState' is defined but never used.","Identifier","unusedVar","'connect' is defined but never used.","'Camera01' is defined but never used.","'Camera02' is defined but never used.","'subscription' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'getURLImage'. Either include it or remove the dependency array.","ArrayExpression",["59"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement",["60"],"no-global-assign","no-unsafe-negation",{"desc":"61","fix":"62"},{"desc":"61","fix":"63"},"Update the dependencies array to be: [getURLImage]",{"range":"64","text":"65"},{"range":"66","text":"65"},[1095,1097],"[getURLImage]",[1095,1097]]